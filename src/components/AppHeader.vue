<template>
  <header class="site-header">
        <div class="site-header__wrapper">
          <a href="/" class="site-header__logo-wrapper" aria-label="Логотип Yuzum">
            <svg viewBox="0 0 34 39" width="34" height="39" class="site-header__logo-icon" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.906 35.782a3.22 3.22 0 0 1 3.755-3.174l2.566-6.104h2.446l-3.566 6.739a3.21 3.21 0 0 1 1.244 2.539A3.22 3.22 0 0 1 17.128 39a3.22 3.22 0 0 1-3.222-3.218zm5.208.009a1.959 1.959 0 0 0-3.919 0 1.959 1.959 0 0 0 3.92 0zM9.978 23.394a1.845 1.845 0 0 1-.808-.808c-.189-.358-.285-.803-.286-1.336v-3.106h1.196v3.075c.002.295.049.542.143.741.093.199.227.35.403.45.174.101.385.151.629.151.245 0 .454-.048.63-.146a.973.973 0 0 0 .402-.436c.095-.194.142-.434.142-.722v-3.113h1.198v3.066c-.003.55-.1 1.005-.293 1.369a1.89 1.89 0 0 1-.825.815c-.357.181-.78.27-1.27.27-.489 0-.91-.09-1.26-.27zm10.438 0a1.845 1.845 0 0 1-.809-.808c-.189-.358-.285-.803-.286-1.336v-3.106h1.196v3.075c.002.295.05.542.144.741.092.199.227.35.402.45.175.101.385.151.629.151.245 0 .454-.048.63-.146a.973.973 0 0 0 .403-.436c.094-.194.141-.434.141-.722v-3.113h1.198v3.066c-.003.55-.1 1.005-.293 1.369a1.89 1.89 0 0 1-.825.815c-.357.181-.779.27-1.269.27-.49 0-.91-.09-1.261-.27zm-15.009.186v-2.143l-2.092-3.293h1.4l1.299 2.182 1.322-2.182h1.36l-2.09 3.27v2.165H5.407zm8.803 0v-.91l2.994-3.477h-2.901v-1.05h4.441v.91l-2.994 3.479h2.994v1.047H14.21zm10.601 0v-5.436h1.29l1.43 2.298 1.43-2.298h1.291v5.436h-1.189V20.03l-1.531 2.321H27.5l-1.517-2.297v3.524H24.81zM0 11.926A4.237 4.237 0 0 1 6.867 8.61l7.65-5.103A2.463 2.463 0 0 1 16.749 0a2.463 2.463 0 0 1 2.464 2.46 2.463 2.463 0 0 1-2.464 2.462c-.445 0-.863-.117-1.223-.323l-6.278 5.07L27 6.192a3.602 3.602 0 0 1 3.4-2.406A3.6 3.6 0 0 1 34 7.382c0 1.94-1.537 3.52-3.46 3.596l-1.995 4.058-.056.109h-3.308l2.466-5.44a3.785 3.785 0 0 1-.2-.261L8.391 12.758A4.237 4.237 0 0 1 0 11.927zm4.878 2.761c.137-.018.417-.115.382-.116.39-.184.482-.24.57-.3.116-.079.22-.161.272-.21.043-.037.045-.038.23-.227.036-.041.108-.128.209-.253.056-.056.206-.303.315-.57.005-.004.006-.008.008-.013a2.833 2.833 0 0 0-1.24-3.545.353.353 0 0 0-.104-.041 1.434 1.434 0 0 0-.434-.175.497.497 0 0 0-.186-.058 2.53 2.53 0 0 0-.663-.087 2.834 2.834 0 1 0 0 5.667c.164 0 .325-.013.64-.072zm1.487-.885l-.032.032c-.04.047-.034.04.032-.032zm26.497-6.42a2.463 2.463 0 0 0-2.464-2.461 2.463 2.463 0 0 0-2.463 2.46 2.463 2.463 0 0 0 2.463 2.461 2.463 2.463 0 0 0 2.464-2.46zM18.076 2.46a1.327 1.327 0 0 0-2.653 0 1.327 1.327 0 0 0 2.653 0z" />
            </svg>
          </a>
          <ul class="site-header__language-list">
            <li class="site-header__language-item site-header__language-item--current">
              <a href="#" class="site-header__language-link" aria-current="true" aria-label="Русская версия сайта">ru</a>
            </li>
            <li class="site-header__language-item">
              <a href="#" class="site-header__language-link" lang="en" aria-label="English version of site">en</a>
            </li>
          </ul>
          <div class="site-header__contacts-wrapper">
            <a href="./contacts" class="btn site-header__contacts-order">Заказать</a>
          </div>
          <nav class="site-menu__nav">
            <button id="navToggler" class="site-menu__nav-toggler" aria-label="Кнопка меню">
              <div class="shape">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
              </div>
              <div class="close"></div>
            </button>
            <div class="site-menu__wrapper">
              <ul class="site-menu__list">
                <li class="site-menu__item site-menu__item--current">
                  <a href="./main" class="site-menu__link">О нас</a>
                </li>
                <li class="site-menu__item">
                  <a href="./projects" class="site-menu__link">Проекты</a>
                </li>
                <li class="site-menu__item">
                  <a href="./contacts" class="site-menu__link">Контакты</a>
                </li>
                <li>
                  <button class="theme-switcher">
              
                    <svg class="site-header__logo-icon theme--white" height="512pt" viewBox="-49 0 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M308.191 107.379c-26.398-26.727-61.609-41.711-99.144-42.2-38.074-.495-74.07 14.036-101.379 40.91-27.293 26.86-42.387 62.602-42.5 100.645a142.003 142.003 0 0 0 48.644 107.43c22.47 19.617 35.356 47.516 35.356 76.531v71.637c0 27.387 22.281 49.668 49.668 49.668h16.668c27.383 0 49.664-22.281 49.664-49.668v-70.719c0-29.843 12.64-57.86 34.684-76.867 31.34-27.02 49.316-66.234 49.316-107.578 0-37.602-14.55-73.043-40.977-99.79zM207.043 279.152h-6.633c-3.625 0-6.574-2.949-6.574-6.578A6.582 6.582 0 0 1 200.41 266a6.642 6.642 0 0 1 6.633 6.633zm.125 59.434c5.516 0 10 4.484 10 10v34h-20v-34c0-5.516 4.484-10 10-10zm38 64v14.707h-76v-14.707zm-76 34.707h76V452h-76zM215.5 492h-16.664c-12.977 0-24.024-8.375-28.043-20h72.75c-4.02 11.625-15.066 20-28.043 20zm71.293-192.398c-24.207 20.87-38.969 50.726-41.3 82.984h-8.325v-34c0-8.93-3.926-16.953-10.133-22.453 0-.043.008-.086.008-.133v-32.867c8.144-5.844 13.457-15.39 13.457-26.156v-15.489c0-21.304-17.332-38.64-38.64-38.64h-18.024c-5.524 0-10 4.476-10 10 0 5.523 4.476 10 10 10h18.023c10.282 0 18.641 8.363 18.641 18.64v3.68c-4.887-5.613-12.078-9.168-20.09-9.168-14.652 0-26.574 11.922-26.574 26.578 0 14.652 11.922 26.574 26.574 26.574h6.633v19.438c-16.484.066-29.875 13.496-29.875 29.996v34h-8.277c-2.192-31.832-17.196-61.899-41.922-83.488a121.985 121.985 0 0 1-41.801-92.301c.098-32.664 13.07-63.367 36.531-86.453 23.473-23.102 54.375-35.594 87.086-35.164 66.38.86 120.383 55.586 120.383 121.988 0 35.523-15.445 69.21-42.375 92.434zm0 0"/>
                      <path d="M209.188 113.82h-.157c-5.511-.054-10 4.364-10.066 9.883-.063 5.524 4.41 10.055 9.933 10.117h.273c5.466 0 9.884-4.398 9.946-9.882.067-5.524-4.406-10.051-9.93-10.118zm0 0M253.176 125.555a10.002 10.002 0 1 0-9.73 17.476c23.269 12.957 37.722 37.531 37.722 64.137 0 5.523 4.477 10 10 10s10-4.477 10-10c0-33.856-18.39-65.125-47.992-81.613zm0 0M207.168 47c5.523 0 10-4.477 10-10V10c0-5.523-4.477-10-10-10s-10 4.477-10 10v27c0 5.523 4.477 10 10 10zm0 0M404.336 197.168h-27c-5.524 0-10 4.477-10 10s4.476 10 10 10h27c5.523 0 10-4.477 10-10s-4.477-10-10-10zm0 0M37 197.168H10c-5.523 0-10 4.477-10 10s4.477 10 10 10h27c5.523 0 10-4.477 10-10s-4.477-10-10-10zm0 0M334.566 320.426c-3.906-3.906-10.238-3.906-14.144 0-3.902 3.902-3.902 10.234 0 14.14l19.094 19.094a9.984 9.984 0 0 0 7.07 2.93c2.559 0 5.117-.98 7.07-2.93 3.906-3.906 3.906-10.238 0-14.144zm0 0M79.77 93.91c1.953 1.953 4.511 2.93 7.07 2.93s5.12-.977 7.07-2.93c3.906-3.902 3.906-10.234 0-14.14L74.82 60.676c-3.906-3.903-10.238-3.903-14.144 0-3.906 3.906-3.903 10.238 0 14.144zm0 0M339.516 60.68l-19.09 19.09c-3.906 3.906-3.906 10.238 0 14.144 1.953 1.953 4.512 2.93 7.07 2.93s5.117-.977 7.07-2.93l19.09-19.094c3.906-3.906 3.906-10.238 0-14.144-3.902-3.906-10.234-3.903-14.14.004zm0 0M79.77 320.426l-19.09 19.09c-3.907 3.906-3.907 10.238 0 14.144 1.953 1.95 4.511 2.93 7.07 2.93s5.117-.98 7.07-2.93l19.09-19.094c3.906-3.906 3.906-10.238 0-14.14-3.902-3.906-10.234-3.906-14.14 0zm0 0"/>
                  </svg>
                  </button>
                </li>
              </ul>
              <div class="site-menu__bg" aria-hidden="true"></div>
            </div>
          </nav>
        </div>
      </header>
</template>

<script>
export default {
  name: 'AppHeader',


    computed : {
      isLoggedIn : function(){ return this.$store.getters.isLoggedIn}
    },
    methods: {
      logout: function () {
        this.$store.dispatch('logout')
        .then(() => {
          this.$router.push('/login')
        })
      }
    },
    created: function () {
    this.$http.interceptors.response.use(undefined, function (err) {
      return new Promise(function (resolve, reject) {
        if (err.status === 401 && err.config && !err.config.__isRetryRequest) {
          this.$store.dispatch("logout")
        }
        throw err;
      });
    });
  }
}

</script>


<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
  #nav{
    display: flex;
    justify-content: space-between;
    width: 100vw;
  }
  .nav__link-home{
    width: 100px;
    height: 20px;
    color: #000;
    background: #fff;
  }
  .site-header{
    height: 100px;
  }
</style>
